<!-- start custom footer snippets -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    console.log("âœ… Custom footer script loaded");

    const links = document.querySelectorAll('a');

    links.forEach(link => {
      const hostname = link.hostname;
      const href = link.getAttribute('href') || '';
      const text = link.textContent.trim().replace(/\s+/g, '');

      // Open external links in new tab
      if (hostname && hostname !== window.location.hostname) {
        link.setAttribute('target', '_blank');
        link.setAttribute('rel', 'noopener noreferrer');
      }

      // Superscript if link text is just a digit, e.g. 1, 12, 99
      if (/^\d{1,3}$/.test(text)) {
        link.innerHTML = `<sup>${text}</sup>`;
      }

      // Also handle if Markdown escaped brackets survive: [1]
      const bracketed = text.match(/^\[(\d{1,3})\]$/);
      if (bracketed) {
        link.innerHTML = `<sup>${bracketed[1]}</sup>`;
      }
    });
  });
</script>
<!-- end custom footer snippets -->
